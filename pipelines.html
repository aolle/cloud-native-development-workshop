<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Red Hat OpenShift Pipelines :: Red Hat Cloud-native Development Workshop</title>
    <link rel="canonical" href="https://olleb.com/cloud-native-development-workshop/pipelines.html">
    <link rel="prev" href="devspaces.html">
    <link rel="next" href="gitops.html">
    <meta name="generator" content="Antora 3.0.3">
    <link rel="stylesheet" href="./_/css/site.css">
<link rel="icon" href="./_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://developers.redhat.com" target="_blank"><img src="./_/img/NewRHDFullLogo_4-color_white-wordmark.png" height="40px" alt="Red Hat Developer Program"></a>
      <a class="navbar-item" style="font-size: 24px; color: white" href="https://olleb.com/cloud-native-development-workshop">Red Hat Cloud-native Development Workshop</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://developers.redhat.com/ebooks/" target="_blank">Books</a>
        <a class="navbar-item" href="https://developers.redhat.com/cheatsheets/" target="_blank">Cheat Sheets</a>
        <a class="navbar-item" href="https://developers.redhat.com/events/" target="_blank">Upcoming Events</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">More Tutorials</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/quarkus-tutorial/" target="_blank">Quarkus</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/knative-tutorial/" target="_blank">Knative</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/kafka-tutorial/" target="_blank">Kafka</a>
            <a class="navbar-item" href="https://devsecops-workshop.github.io/" target="_blank">DevSecOps</a>
            <a class="navbar-item" href="https://acidonper.github.io/redhat-workshop-cicd-gitops/redhat-workshop-cicd-gitops/" target="_blank">CI/CD & GitOps</a>
            <a class="navbar-item" href="https://atarazana.github.io/gramola-gitops-guide/gramola-gitops-guide/" target="_blank">Gramola GitOps Guide</a>
            <a class="navbar-item" href="https://luisarizmendi.github.io/tutorial-secure-onboarding/" target="_blank">Secure Edge device onboarding with RHEL and FDO</a>
            <a class="navbar-item" href="https://xbryan1.github.io/rhte-2023-acm-docs/" target="_blank">Multicluster Application Deployment with Advanced Cluster Management and GitOps</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="ROOT" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html"></a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="setup.html">1. Environment Setup</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="setup.html#tools">1.1. Workshop Tools</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="setup.html#pre">1.2. Red Hat Cloud-native Development Workshop Prerequisites</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="setup.html#devspaces">1.2.1. Red Hat OpenShift Dev Spaces</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="setup.html#pipelines">1.2.2. Red Hat OpenShift Pipelines</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="setup.html#gitops">1.2.3. Red Hat OpenShift GitOps</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="setup.html#cicd">1.2.4. CI/CD Environment</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="devspaces.html">2. Red Hat OpenShift Dev Spaces</a>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text">3. Red Hat Build of Quarkus</span>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="pipelines.html">4. Red Hat OpenShift Pipelines</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="gitops.html">5. Red Hat OpenShift GitOps</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">Red Hat Cloud-native Development Workshop</a></li>
    <li><a href="pipelines.html">4. Red Hat OpenShift Pipelines</a></li>
  </ul>
</nav>
  <div style="padding: 0 0.5rem 0 0.75rem;"><a href="https://olleb.com" target="_blank" rel="noopener noreferrer"> Àngel Ollé Blázquez | Specialist Solution Architect </a></div>
</div>
  <div class="content">
<article class="doc">
<h1 class="page">Red Hat OpenShift Pipelines</h1>
<div class="paragraph">
<p>In this section, we will explore how to implement Continuous Integration (CI) with OpenShift Pipelines, which leverages Tekton underneath. Pipeline runs are defined as code, allowing for greater flexibility and easier management.</p>
</div>
<div class="paragraph">
<p>In our setup, we have pipelines defined as code within the .tekton directory of our application, available in Git. Our Git repository is configured with a webhook for commits, which triggers a request to the URL of the Pipelines as Code Controller to execute the pipeline.</p>
</div>
<div class="paragraph">
<p>Navigate to the <code>quarkus-petclinic</code> repository and inspect the <code>.tekton</code> directory files.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/pipelines/pipelines-1.png" alt="pipelines 1">
</div>
</div>
<div class="paragraph">
<p>Try to understand the <code>yaml</code> files. You may want to check the [Pipelines as Code](<a href="https://pipelinesascode.com/" class="bare">https://pipelinesascode.com/</a>) and [Tekton](<a href="https://tekton.dev/docs/" class="bare">https://tekton.dev/docs/</a>) documentation.</p>
</div>
<div class="paragraph">
<p>These pipeline runs are responsible for cloning the Git code repository, configuring Maven, running unit tests, performing Sonar analysis, uploading the application release to Nexus, building the container image using source to image (s2i), pushing it to the internal OpenShift registry, updating the manifests for Argo CD detection, and finally, opening a pull request in the repository for verification before deploying the image to stage.</p>
</div>
<div class="paragraph">
<p>As someone with experience in DevOps and CI/CD processes, I find OpenShift Pipelines and Tekton to be a powerful toolset for building and automating the entire software delivery pipeline. The ability to define pipeline runs as code is a game-changer, as it provides a level of transparency and repeatability that was not possible before.</p>
</div>
<div class="paragraph">
<p>Now, let&#8217;s take a look at how it works:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Let&#8217;s make a change in the source code to see how the pipeline is triggered.</p>
</li>
<li>
<p>Open the pom.xml file and, for example, increment the version of the release.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/pipelines/pipelines-2.png" alt="pipelines 2">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Save the changes by committing to the repository.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/pipelines/pipelines-3.png" alt="pipelines 3">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Go to the OpenShift web console, <code>demo-cicd</code> workspace, in Pipelines, under the PipelineRuns tab. We see the pipeline running and open it.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/pipelines/pipelines-4.png" alt="pipelines 4">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/pipelines/pipelines-5.png" alt="pipelines 5">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>We can see the pipeline running, with its different stages, by clicking on it, we can see the logs. We wait for the pipeline run to complete.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/pipelines/pipelines-6.png" alt="pipelines 6">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Click on the <code>build-image</code> stage to review the logs. Take note of the <code>sha256</code> given to the image. In our example, <code>00d58&#8230;&#8203;</code>.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/pipelines/pipelines-7.png" alt="pipelines 7">
</div>
</div>
<div class="paragraph">
<p>At this point, we have successfully executed our CI cycle with the help of Tekton. It has taken care of running the different steps of the cycle, including building the application image. It has also created a commit in the configuration repository, which we will further detail in the next section dedicated to CD.</p>
</div>
<nav class="pagination">
  <span class="prev"><a href="devspaces.html">2. Red Hat OpenShift Dev Spaces</a></span>
  <span class="next"><a href="gitops.html">5. Red Hat OpenShift GitOps</a></span>
</nav>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <a class="rhd-logo" href="https://developers.redhat.com" target="_blank"></div>
</footer>
<script src="./_/js/vendor/clipboard.js"></script>
<script src="./_/js/site.js"></script>
<script async src="./_/js/vendor/highlight.js"></script>
  </body>
</html>
