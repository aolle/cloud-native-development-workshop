<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Environment Setup :: Red Hat Cloud-native Development Workshop</title>
    <link rel="canonical" href="https://olleb.com/cloud-native-development-workshop/setup.html">
    <link rel="prev" href="index.html">
    <meta name="generator" content="Antora 3.0.3">
    <link rel="stylesheet" href="./_/css/site.css">
<link rel="icon" href="./_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://developers.redhat.com" target="_blank"><img src="./_/img/NewRHDFullLogo_4-color_white-wordmark.png" height="40px" alt="Red Hat Developer Program"></a>
      <a class="navbar-item" style="font-size: 24px; color: white" href="https://olleb.com/cloud-native-development-workshop">Red Hat Cloud-native Development Workshop</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://developers.redhat.com/ebooks/" target="_blank">Books</a>
        <a class="navbar-item" href="https://developers.redhat.com/cheatsheets/" target="_blank">Cheat Sheets</a>
        <a class="navbar-item" href="https://developers.redhat.com/events/" target="_blank">Upcoming Events</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">More Tutorials</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/quarkus-tutorial/" target="_blank">Quarkus</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/knative-tutorial/" target="_blank">Knative</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/kafka-tutorial/" target="_blank">Kafka</a>
            <a class="navbar-item" href="https://devsecops-workshop.github.io/" target="_blank">DevSecOps</a>
            <a class="navbar-item" href="https://acidonper.github.io/redhat-workshop-cicd-gitops/redhat-workshop-cicd-gitops/" target="_blank">CI/CD & GitOps</a>
            <a class="navbar-item" href="https://atarazana.github.io/gramola-gitops-guide/gramola-gitops-guide/" target="_blank">Gramola GitOps Guide</a>
            <a class="navbar-item" href="https://luisarizmendi.github.io/tutorial-secure-onboarding/" target="_blank">Secure Edge device onboarding with RHEL and FDO</a>
            <a class="navbar-item" href="https://xbryan1.github.io/rhte-2023-acm-docs/" target="_blank">Multicluster Application Deployment with Advanced Cluster Management and GitOps</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="ROOT" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html"></a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="setup.html">1. Environment Setup</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#tools">1.1. Workshop Tools</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#pre">1.2. Red Hat Cloud-native Development Workshop Prerequisites</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#devspaces">1.2.1. Red Hat OpenShift Dev Spaces</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#pipelines">1.2.2. Red Hat OpenShift Pipelines</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#gitops">1.2.3. Red Hat OpenShift GitOps</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#cicd">1.2.4. CI/CD Environment</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">2. Red Hat OpenShift Dev Spaces</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#create-workspace">2.1. Create Workspace</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text">3. Red Hat Build of Quarkus</span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text">4. Red Hat OpenShift Pipelines</span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text">5. Red Hat OpenShift GitOps</span>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">Red Hat Cloud-native Development Workshop</a></li>
    <li><a href="setup.html">1. Environment Setup</a></li>
  </ul>
</nav>
  <div style="padding: 0 0.5rem 0 0.75rem;"><a href="https://www.linkedin.com/in/angelolle/" target="_blank" rel="noopener noreferrer"> Àngel Ollé Blázquez | Specialist Solution Architect </a></div>
</div>
  <div class="content">
<article class="doc">
<h1 class="page">Environment Setup</h1>
<div id="preamble">
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This tutorial was developed and tested with:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Red Hat OpenShift <code>4.11.30</code></p>
</li>
<li>
<p>Red Hat OpenShift Dev Spaces <code>3.4.0</code></p>
</li>
<li>
<p>Red Hat OpenShift Pipelines <code>1.9.2</code></p>
</li>
<li>
<p>Red Hat OpenShift GitOps <code>1.7.2</code></p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tools"><a class="anchor" href="#tools"></a>Workshop Tools</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following tools are required to run the exercises in this tutorial. Please ensure that they are installed and properly configured before proceeding with any of the tutorial chapters.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Tool</strong></th>
<th class="tableblock halign-left valign-top"><strong>Reference</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Red Hat OpenShift CLI</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://access.redhat.com/downloads/content/290">OpenShift Container Platform downloads page</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>git</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="pre"><a class="anchor" href="#pre"></a>Red Hat Cloud-native Development Workshop Prerequisites</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="devspaces"><a class="anchor" href="#devspaces"></a>Red Hat OpenShift Dev Spaces</h3>
<div class="paragraph">
<p>You can use the Red Hat OpenShift Container Platform web console to install Red Hat OpenShift DevSpaces by following these steps:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Open a browser window and log in to the Red Hat OpenShift Container Platform web console.</p>
</li>
<li>
<p>From the Administrator perspective, click on <code>Operators</code> and then select <code>OperatorHub</code>.</p>
</li>
<li>
<p>In the <code>Filter by keyword</code> field, type <code>devspaces</code>.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/install/devspaces-tile-1.png" alt="devspaces tile 1">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Select the Red Hat OpenShift Dev Spaces tile and click <code>Install</code> button.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/install/devspaces-tile-2.png" alt="devspaces tile 2">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>On the Install Operator page, select <code>stable</code> from the list of available Update Channel options, and then choose <code>All namespaces on the cluster (default)</code>. Leave the default value of Installed Namespace as <code>openshift-operators(Operator recommended)</code>, and set the Update Approval to Automatic.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/install/devspaces-tile-3.png" alt="devspaces tile 3">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Click <code>Install</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Once the operator installation finishes, create a project named <code>demo-devspaces</code> and deploy a <code>CheCluster</code> by following these steps:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>From the Administrator perspective, click on <code>Installed Operators</code>.</p>
</li>
<li>
<p>Select <code>Red Hat OpenShift Dev Spaces</code>.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/install/che-1.png" alt="che 1">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Click on <code>Red Hat OpenShift Dev Spaces instance Specification</code>, select <code>Current namespace only</code> and then click on <code>Create CheCluster</code>.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/install/che-2.png" alt="che 2">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Set a desired name for the CheCluster, for example <code>devspaces</code>, and click on <code>Create</code>.</p>
</li>
<li>
<p>Wait for the <code>CheCluster</code> deployment to finish. When it&#8217;s available, navigate to <code>Networking</code>, then <code>Routes</code>, and open the devspaces route.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <code>DevSpaces</code> dashboard loads correctly, it means that the installation process went without any issues.</p>
</div>
</div>
<div class="sect2">
<h3 id="pipelines"><a class="anchor" href="#pipelines"></a>Red Hat OpenShift Pipelines</h3>
<div class="paragraph">
<p>You can use the Red Hat OpenShift Container Platform web console to install Red Hat OpenShift Pipelines by following these steps:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Open a browser window and log in to the Red Hat OpenShift Container Platform web console.</p>
</li>
<li>
<p>From the Administrator perspective, click on <code>Operators</code> and then select <code>OperatorHub</code>.</p>
</li>
<li>
<p>In the <code>Filter by keyword</code> field, type <code>openshift pipelines</code>.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/install/pipelines-tile-1.png" alt="pipelines tile 1">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Select the Red Hat OpenShift Pipelines tile and click <code>Install</code> button.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/install/pipelines-tile-2.png" alt="pipelines tile 2">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>On the Install Operator page, select <code>pipelines-1.9</code> from the list of available Update Channel options, and then choose <code>All namespaces on the cluster (default)</code>. Leave the default value of Installed Namespace as <code>openshift-operators</code>, and set the Update Approval to Automatic.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/install/pipelines-tile-3.png" alt="pipelines tile 3">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Click <code>Install</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="gitops"><a class="anchor" href="#gitops"></a>Red Hat OpenShift GitOps</h3>
<div class="paragraph">
<p>You can use the Red Hat OpenShift Container Platform web console to install Red Hat OpenShift GitOps by following these steps:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Open a browser window and log in to the Red Hat OpenShift Container Platform web console.</p>
</li>
<li>
<p>From the Administrator perspective, click on <code>Operators</code> and then select <code>OperatorHub</code>.</p>
</li>
<li>
<p>In the <code>Filter by keyword</code> field, type <code>openshift gitops</code>.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/install/gitops-1.png" alt="gitops 1">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Select the Red Hat OpenShift GitOps tile and click <code>Install</code> button.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/install/gitops-2.png" alt="gitops 2">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>On the Install Operator page, select <code>gitops-1.7</code> from the list of available Update Channel options, and then choose <code>All namespaces on the cluster (default)</code>. Leave the default value of Installed Namespace as <code>openshift-operators</code>, and set the Update Approval to Automatic.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/install/gitops-3.png" alt="gitops 3">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Click <code>Install</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="cicd"><a class="anchor" href="#cicd"></a>CI/CD Environment</h3>
<div class="paragraph">
<p>In this section, we will deploy all the components of the CI/CD environment. The environment is composed of a Gitea git server, a Sonatype Nexus and a SonarQube server.</p>
</div>
<div class="paragraph">
<p>We have an existing Spring application that we want to migrate to Quarkus because we are interested in taking the advantatge of the benefits provided by the supersonic subatomic Java framework!</p>
</div>
<div class="paragraph">
<p>We will be working with a modififed, prepared, and adapted version of the <code>CI/CD Demo with Tekton and Argo CD on OpenShift</code>, created by Siamak Sadeghianfar and contributors. The original repository is available [here](<a href="https://github.com/siamaksade/openshift-cicd-demo" class="bare">https://github.com/siamaksade/openshift-cicd-demo</a>).</p>
</div>
<div class="paragraph">
<p>However, for this workshop, we will be using a version available [here](<a href="https://github.com/aolle/openshift-cicd-demo/tree/cnd" class="bare">https://github.com/aolle/openshift-cicd-demo/tree/cnd</a>), soecifically in the <code>cnd</code> branch.</p>
</div>
<div class="paragraph">
<p>To install the CI/CD environment, simply clone that branch and proceed as follows:</p>
</div>
<div class="listingblock lines_space console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git clone -b cnd <a href="https://github.com/aolle/openshift-cicd-demo.git" class="bare">https://github.com/aolle/openshift-cicd-demo.git</a>
./openshift-cicd-demo/demo.sh install</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Make sure that you have already logged in into your OpenShift cluster before executing the commands. Additionally, make a note of the URLs of the services that the installation script provides.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Verify that the environment has been installed without any issues by opening the different URLs and checking the login and the landing pages. Check that we have two repositories avabilable in Gitea: quarkus-petclinic and quarkus-petclinic-config.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
The list of the default credentials (username / password) is as follows:
* Gitea: gitea / openshift
* Sonatype Nexus: admin / admin123
* SonarQube: admin / admin
* Argo CD: <em>login with OpenShift credentials</em>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Gitea git server</strong></p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/install/gitea.png" alt="gitea">
</div>
</div>
<div class="paragraph">
<p><strong>Sonatype Nexus</strong></p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/install/nexus.png" alt="nexus">
</div>
</div>
<div class="paragraph">
<p><strong>SonarQube</strong></p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/install/sonar.png" alt="sonar">
</div>
</div>
<div class="paragraph">
<p><strong>Argo CD</strong></p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/install/argocd.png" alt="argocd">
</div>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="index.html">Red Hat Cloud-native Development Workshop</a></span>
</nav>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <a class="rhd-logo" href="https://developers.redhat.com" target="_blank"></div>
</footer>
<script src="./_/js/vendor/clipboard.js"></script>
<script src="./_/js/site.js"></script>
<script async src="./_/js/vendor/highlight.js"></script>
  </body>
</html>
